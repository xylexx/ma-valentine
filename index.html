<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emmo, veux-tu √™tre ma Valentine ?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;700&display=swap');

        body {
            background-color: #fff1f2;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .kitsch-font {
            font-family: 'Pacifico', cursive;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        #valentine-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(244, 63, 94, 0.4);
            text-align: center;
            z-index: 10;
            border: 4px solid #fb7185;
            max-width: 450px;
            width: 90%;
            position: relative;
            animation: float 4s ease-in-out infinite;
        }

        .pingu-container {
            width: 160px;
            height: 160px;
            margin: 0 auto 1.2rem;
            border-radius: 50%;
            overflow: hidden;
            border: 6px solid #fb7185;
            box-shadow: 0 0 30px rgba(251, 113, 133, 0.8);
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pingu-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .heart-particle {
            position: absolute;
            pointer-events: none;
            z-index: 1;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .sparkle {
            position: fixed;
            pointer-events: none;
            z-index: 2000;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
        }

        .celebration-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 241, 242, 0.95);
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        #ai-poem-box {
            display: none;
            background: #fffafa;
            border: 2px dashed #fda4af;
            padding: 1.2rem;
            margin-top: 1.2rem;
            border-radius: 20px;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Correction de l'affichage du texte */
        .message-text {
            word-wrap: break-word;
            overflow-wrap: break-word;
            display: inline-block;
            width: 100%;
            line-height: 1.5;
        }
    </style>
</head>
<body>

    <div id="heart-rain-container" class="fixed inset-0 pointer-events-none"></div>

    <div id="valentine-card">
        <div class="pingu-container">
            <img src="pingu.jpg" alt="Pingu le doudou" onerror="this.src='https://em-content.zobj.net/source/apple/354/penguin_1f427.png'">
        </div>
        
        <h1 class="kitsch-font text-2xl sm:text-3xl text-rose-600 mb-2 leading-tight">Emmo, veux-tu √™tre ma Valentine ?</h1>
        <p class="text-rose-400 mb-6 font-medium italic text-sm">‚ú® Pingu croise ses petites nageoires... ‚ú®</p>
        
        <div class="flex flex-col sm:flex-row justify-center gap-4 items-center mb-6">
            <button id="yes-button" class="bg-rose-500 hover:bg-rose-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-xl transform hover:scale-110 transition-all active:scale-95">
                OUI ! üíñ
            </button>
            
            <button id="no-button" class="bg-gray-200 text-gray-500 font-bold py-2 px-6 rounded-full text-lg shadow-md transition-all duration-75">
                Non...
            </button>
        </div>

        <button id="msg-button" class="text-[10px] font-bold uppercase tracking-widest text-rose-400 hover:text-rose-600 transition-colors mx-auto block py-2 px-4 border border-rose-100 rounded-full bg-rose-50/50">
            ‚ú® Un petit mot doux de Pingu ?
        </button>

        <div id="ai-poem-box">
            <div id="poem-content" class="text-rose-700 font-medium message-text"></div>
        </div>
    </div>

    <div id="celebration" class="celebration-overlay">
        <div class="text-8xl mb-6">üêßüíû</div>
        <h2 class="kitsch-font text-5xl text-rose-600 mb-4">INCROYAB !</h2>
        <p class="text-xl text-rose-500 max-w-md mx-auto px-6 font-bold">Emmo a dit OUI ! <br>Pingu fait la danse du bonheur ! ‚ùÑÔ∏èüêü</p>
        <div class="mt-8 flex gap-6 text-5xl animate-bounce">üçìüíçüçæüç´</div>
        <button onclick="location.reload()" class="mt-16 text-rose-300 hover:text-rose-500 underline text-sm">On recommence juste pour le plaisir ?</button>
    </div>

    <script>
        const noBtn = document.getElementById('no-button');
        const yesBtn = document.getElementById('yes-button');
        const celebration = document.getElementById('celebration');
        const msgButton = document.getElementById('msg-button');
        const poemBox = document.getElementById('ai-poem-box');
        const poemContent = document.getElementById('poem-content');
        const heartRain = document.getElementById('heart-rain-container');

        // --- 1. PLUIE DE COEURS ---
        function createRainHeart() {
            const heart = document.createElement('div');
            const hearts = ['‚ù§Ô∏è', 'üíñ', 'üå∏', 'üíï', '‚ú®', 'ü§ç'];
            heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
            heart.className = 'heart-particle';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.3;
            const duration = (Math.random() * 3 + 3);
            heart.style.animation = `fall ${duration}s linear forwards`;
            heartRain.appendChild(heart);
            setTimeout(() => heart.remove(), duration * 1000);
        }
        setInterval(createRainHeart, 300);

        // --- 2. BOUTON NON QUI S'ENFUIT ---
        noBtn.addEventListener('mouseover', () => {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        });

        // --- 3. EXPLOSION DE PAILLETTES ---
        function createSparkle(x, y) {
            for (let i = 0; i < 40; i++) {
                const s = document.createElement('div');
                s.className = 'sparkle';
                const colors = ['#fb7185', '#ff0066', '#ffd700', '#ffffff', '#ff69b4'];
                s.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                s.style.width = (Math.random() * 8 + 4) + 'px';
                s.style.height = s.style.width;
                s.style.left = x + 'px';
                s.style.top = y + 'px';
                const angle = Math.random() * Math.PI * 2;
                const dist = Math.random() * 200 + 50;
                s.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
                s.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
                document.body.appendChild(s);
                setTimeout(() => s.remove(), 1000);
            }
        }

        yesBtn.addEventListener('click', (e) => {
            createSparkle(e.clientX, e.clientY);
            for(let i=0; i<8; i++) {
                setTimeout(() => {
                    createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
                }, i * 150);
            }
            setTimeout(() => {
                celebration.style.display = 'flex';
            }, 500);
        });

        // --- 4. MOTS DOUX DE PINGU ---
        const pinguMessages = [
            "Noot noot ! Tu es plus belle qu'un gros hareng frais ! ‚ù§Ô∏èüêü",
            "Emmo, mon c≈ìur fond comme un gla√ßon au soleil pour toi ! ‚òÄÔ∏è‚ùÑÔ∏è",
            "Veux-tu glisser avec moi sur la banquise de l'amour ? üêßüíû",
            "Tu es le plus joli pingouin de tout l'Antarctique ! ‚ú®üíé",
            "J'ai gard√© le meilleur poisson du seau juste pour toi... üêüüíç",
            "M√™me s'il fait -40¬∞C, tu r√©chauffes mon petit c≈ìur ! üî•üêß",
            "On fait une bataille de boules de neige... et de bisous ? ‚ùÑÔ∏èüíã",
            "T'es ma pr√©f√©r√©e de toute la colonie ! ‚ù§Ô∏èüêß‚ú®"
        ];

        let lastIndex = -1;

        msgButton.onclick = () => {
            poemBox.style.display = 'block';
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * pinguMessages.length);
            } while (randomIndex === lastIndex);
            
            lastIndex = randomIndex;
            
            // On remplace l'effet machine √† √©crire par une apparition fluide pour √©viter les coupures
            poemContent.style.opacity = 0;
            setTimeout(() => {
                poemContent.innerText = pinguMessages[randomIndex];
                poemContent.style.transition = "opacity 0.5s";
                poemContent.style.opacity = 1;
            }, 50);
        };
    </script>
</body>
</html>